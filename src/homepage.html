
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Manuel, Matteo, Stefania">

    <title>Homepage</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./css/style.css" />
  </head>

  <body>

    <header>
      <div class="navbar navbar-dark bg-dark box-shadow">
        <div class="container d-flex justify-content-between">
          <a href="homepage.html" class="navbar-brand d-flex align-items-center">
            <strong>Album Watch</strong>
          </a>
          <a href="personal_area.html" id="personal_area" class="btn btn-outline-light btn-personal-area" role="button">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-watch" viewBox="0 0 16 16">
              <path d="M8.5 5a.5.5 0 0 0-1 0v2.5H6a.5.5 0 0 0 0 1h2a.5.5 0 0 0 .5-.5V5z"/>
              <path d="M5.667 16C4.747 16 4 15.254 4 14.333v-1.86A5.985 5.985 0 0 1 2 8c0-1.777.772-3.374 2-4.472V1.667C4 .747 4.746 0 5.667 0h4.666C11.253 0 12 .746 12 1.667v1.86a5.99 5.99 0 0 1 1.918 3.48.502.502 0 0 1 .582.493v1a.5.5 0 0 1-.582.493A5.99 5.99 0 0 1 12 12.473v1.86c0 .92-.746 1.667-1.667 1.667H5.667zM13 8A5 5 0 1 0 3 8a5 5 0 0 0 10 0z"/>
            </svg>
            Personal area
          </a>
        </div>
      </div>
    </header>

    <main role="main">

      <section class="jumbotron text-center">
        <div class="container">
          <h1 class="pageTitle">Choose your watch</h1>
          <p class="lead text-muted">Browse the catalog of all watches.<br> Click on a watch and read its informations.</p>
          <p id="accountAddress"></p>
        </div>
      </section>

      <div class="album py-5 bg-light">
        <div class="container">
          <div id="loader">
            <p class="text-center">Loading...</p>
          </div>
          <div id="watchesRow" class="row">
            <!--watchs load here-->
          </div>
          
        </div>

          <div id="watchTemplate" style="display: none;">
          <div class="col-md-4 col-sm-6 col-lg-4">
            <div class="card mb-4 box-shadow card-watch">
              <img id="watch-image" class="card-img-top imgAlbum" src="images/rolex1.jpg" data-src="holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail" alt="Card image cap">
              <div class="card-body">
                <h5 id="watch-name" class="card-title"></h5>
                <h6 id ="watch-brand" class="card-subtitle mb-2 text-muted"></h6>
                <p id="watch-description" class="text-watch"></p>
                <p id="watch-price" class="price-watch"></p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <a data-viewid="0" id="btn-view" onclick="saveId(this.getAttribute('data-viewid'));" href="watchInfo.html" type="button" class="btn btn-sm btn-outline-secondary btn-view">View</a>
                    <!--il bottone view deve andare a vedere i dettagli del singolo orologio, passando l'id del padre-->
                  </div>
                  <div class="buyDiv">   
                  <button data-buyid="0" type="button" class="btn btn-sm btn-outline-secondary btn-buy" style="float: right;" onclick="saveId(this.getAttribute('data-buyid'));">Buy</button>                 
                  </div>  
                </div>
              </div>
            </div>
          </div>
        </div>      
          
        </div>
      </div>

    </main>

    <footer class="text-muted">
      <div class="container">
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
        </div>
    </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>

    <script>

      function saveId(myIdvalue){
      //var myIdvalue = object.querySelector('.btn-view').getAttribute('data-viewid').text;
      //console.log("myIdValue: " + myIdvalue);
      localStorage.setItem('myId', myIdvalue);
      var w = localStorage.getItem('myId');
      //App.prevWatchId = localStorage.getItem('myId');
      //console.log(localStorage.getItem('myId'));
      //console.log("prev watch in save ID: " + w);
    }
    </script>
  </body>
</html>
